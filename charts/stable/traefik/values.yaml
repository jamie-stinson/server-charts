image:
  registry: "docker.io"
  repository: "traefik"
  tag: "v2.10"

containerArgs:
  - --accesslog
  - --log
  - --log.format=json
  - --log.level=ERROR
  - --api.insecure
  - --providers.kubernetesingress
  - --accesslog.format=json
  - --certificatesresolvers.letsencrypt
  - --certificatesresolvers.letsencrypt.acme.caserver=https://acme-v02.api.letsencrypt.org/directory
  - --certificatesresolvers.letsencrypt.acme.certificatesduration=2160
  - --certificatesresolvers.letsencrypt.acme.dnschallenge
  - --certificatesresolvers.letsencrypt.acme.dnschallenge.provider
  - --entrypoints.web
  - --entrypoints.web.http.redirections.entryPoint.to=websecure
  - --entrypoints.web.http.redirections.entryPoint.scheme=https
  - --entrypoints.websecure

service:
  enabled: true
  clusterip:
    - name: dashboard
      protocol: TCP
      port: 8080
  nodeport:
    - name: http
      protocol: TCP
      port: 80
      nodePort: 30080
    - name: https
      protocol: TCP
      port: 443
      nodePort: 30443

certificateIssuer:
  enabled: true
  contactEmail: "contact@projectwhitebox.com"
  cloudflareEmail: "contact@projectwhitebox.com"
  dnzZones:
    - "projectwhitebox.com"

ingress:
  traefik:
    enabled: true 
    hosts: []

serviceAccount:
  enabled: true

rbac:
  enabled: true
  type: clusterrole
  rules:
    - apiGroups:
        - ""
      resources:
        - services
        - endpoints
        - secrets
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - extensions
        - networking.k8s.io
      resources:
        - ingresses
        - ingressclasses
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - extensions
        - networking.k8s.io
      resources:
        - ingresses/status
      verbs:
        - update