image:
  registry: "docker.io"
  repository: "emby/embyserver"
  tag: "4.8.1.0"

containerEnvs:
  - name: S6_READ_ONLY_ROOT
    value: 1

probes:
  readiness:
    enabled: true
    type: "http"
    httpPath: "/emby/system/info/public"
    httpPort: 8096
    initialDelaySeconds: 2
    periodSeconds: 10
    timeoutSeconds: 2
    successThreshold: 1
    failureThreshold: 1
  liveness:
    enabled: true
    type: "http"
    httpPath: "/emby/system/info/public"
    httpPort: 8096
    initialDelaySeconds: 2
    periodSeconds: 10
    timeoutSeconds: 2
    successThreshold: 1
    failureThreshold: 3
  startup:
    enabled: true
    type: "http"
    httpPath: "/emby/system/info/public"
    httpPort: 8096
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 2
    successThreshold: 1
    failureThreshold: 3

service:
  enabled: true
  loadbalancer:
    - name: emby
      protocol: TCP
      port: 8096

ingress:
  traefik:
    enabled: true
    hosts:
    - name: https
      entrypoint: "websecure"
      host: "emby.projectwhitebox.com"
      backendPort: 8096
      securityHeaders: true
      cors:
        enabled: false
        accessControlAllowMethods: []
        accessControlAllowHeaders: []
        accessControlAllowOriginList: []
        accessControlMaxAge: null
        addVaryHeader: null
      tls: true

storage:
  enabled: true
  volumes:
    - name: "config"
      type: "host"
      hostPath: "/mnt/test-pool/config/emby"
      mountPath: "/config"
      readOnly: false
    - name: "var"
      type: "emptyDir"
      mountPath: "/var"
      readOnly: false